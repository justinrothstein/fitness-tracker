@{
    ViewBag.Title = "Edit Routine";
}

@section scripts{
    <script src="~/Content/angular/Fitness/fitnessEditController.js"></script>
}

<div class="container" ng-app="fitnessModule" ng-controller="fitnessEditController">
    <h2>Edit a Routine: {{model.routineToEdit.RoutineName}}</h2>
    
    <div class="row">
        <div class="row">
            <div class="col-lg-2">
                <h3>Routine Name</h3>
            </div>
            <div class="col-lg-3">
                <h3>Routine Goal</h3>
            </div>
            <div class="col-lg-2">
                <h3>Active?</h3>
            </div>
            <div class="col-lg-5"></div>
        </div>
        <div class="row">
            <div class="col-lg-2">
                <input class="input-sm" type="text"
                       name="Routine Name"
                       ng-model="model.routineToEdit.RoutineName"
                       ng-required="true" />
            </div>
            <div class="col-lg-3">
                <input class="input-sm" type="text"
                       name="Routine Goal"
                       ng-model="model.routineToEdit.RoutineGoal"
                       ng-required="true" />
            </div>
            <div class="col-lg-2">
                <input type="checkbox"
                       name="Routine Active"
                       ng-model="model.routineToEdit.Active"
                       ng-required="true" />
            </div>
            <div class="col-lg-5">
            </div>
        </div>
        <div class="row"><hr /></div>
        <div class="container">
            <div class="row">
                <h2>Schedule</h2>
                <table class="table table-striped  table-bordered table-condensed">
                    <thead>
                        <tr>
                            <th class="col-md-1">Sunday</th>
                            <th class="col-md-1">Monday</th>
                            <th class="col-md-1">Tuesday</th>
                            <th class="col-md-1">Wednesday</th>
                            <th class="col-md-1">Thursday</th>
                            <th class="col-md-1">Friday</th>
                            <th class="col-md-1">Saturday</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <input type="checkbox"
                                       name="Sunday"
                                       ng-model="model.routineToEdit.Sunday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Monday"
                                       ng-model="model.routineToEdit.Monday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Tuesday"
                                       ng-model="model.routineToEdit.Tuesday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Wednesday"
                                       ng-model="model.routineToEdit.Wednesday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Thursday"
                                       ng-model="model.routineToEdit.Thursday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Friday"
                                       ng-model="model.routineToEdit.Friday"
                                       ng-required="true" />
                            </td>
                            <td>
                                <input type="checkbox"
                                       name="Saturday"
                                       ng-model="model.routineToEdit.Saturday"
                                       ng-required="true" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row"><hr /></div>
        <div class="container">
            <div class="row">
                <h2>Exercises</h2>
                <div class="col-md-3">
                    <label class="control-label">Existing Exercises:</label>
                    <select id="existingExercises" name="existingExercises"
                            class="form-control"
                            ng-model="model.existingExerciseSelected"
                            ng-change="existingExerciseChanged();"
                            ng-options="exercise.ExerciseName for exercise in model.existingExercises"></select>
                </div>
                <div class="col-md-2">
                    <label class="control-label">&nbsp;</label>
                    <button class="btn btn-default" ng-click="addExistingExercise()"
                            ng-disabled="!model.existingExerciseSelected">
                        <span class="glyphicon glyphicon-plus"></span>
                        Add Existing Exercise
                    </button>
                </div>
                <div class="col-md-2">
                    <label class="control-label">
                        &nbsp;
                    </label>
                    <button class="btn btn-default" ng-click="addNewExercise()">
                        <span class="glyphicon glyphicon-plus"></span>
                        Add New Exercise
                    </button>
                </div>
            </div>
            <div class="row" ng-show="model.routineToEdit.exercises.length > 0">&nbsp;</div>
            <div class="row" ng-show="model.routineToEdit.exercises.length > 0">
                <div class="container">
                    <table class="table table-striped  table-bordered table-condensed">
                        <thead>
                            <tr>
                                <th class="col-md-4">Name</th>
                                <th class="col-md-4">Description</th>
                                <th class="col-md-1">Sets</th>
                                <th class="col-md-1">Reps</th>
                                <th class="col-md-1">Weight</th>
                                <th class="col-md-1"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="exercise in model.routineToEdit.exercises">
                                <td>
                                    <input type="text" class="input-sm"
                                           name="Exercise Name"
                                           ng-model="exercise.ExerciseName"
                                           ng-required="true" 
                                           ng-disabled="exercise.Existing"/>
                                </td>
                                <td>
                                    <input type="text" class="input-sm"
                                           name="Exercise Description"
                                           ng-model="exercise.Description"
                                           ng-required="true" 
                                           ng-disabled="exercise.Existing"/>
                                </td>
                                <td>
                                    <input type="text" class="input-sm"
                                           name="Sets"
                                           ng-model="exercise.Sets"
                                           ng-required="true" 
                                           ng-disabled="exercise.Existing"/>
                                </td>
                                <td>
                                    <input type="text" class="input-sm"
                                           name="Reps"
                                           ng-model="exercise.Reps"
                                           ng-required="true" 
                                           ng-disabled="exercise.Existing"/>
                                </td>
                                <td>
                                    <input type="text" class="input-sm"
                                           name="Weight"
                                           ng-model="exercise.Weight"
                                           ng-required="true" 
                                           ng-disabled="exercise.Existing"/>
                                </td>
                                <td>
                                    <button class="btn btn-default" ng-click="removeExercise(exercise)">
                                        <span class="glyphicon glyphicon-minus"></span>
                                        Remove
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <button class="btn btn-default navbar-btn" ng-click="saveChangesClicked();">
                        <span class="glyphicon glyphicon-floppy-save"></span> Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>